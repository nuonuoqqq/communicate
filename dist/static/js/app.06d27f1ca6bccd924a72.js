webpackJsonp([1],{"+Dy5":function(t,a){},"+Lla":function(t,a,e){"use strict";function n(t){e("SPG4")}var s=e("DJP2"),i=e("Wp4j"),o=e("VU/8"),r=n,c=o(s.a,i.a,!1,r,null,null);a.a=c.exports},"+hXE":function(t,a){},"/2Wa":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message"},[e("m-header",{staticClass:"header",attrs:{title:"消息",fixed:""}}),t._v(" "),t.has_read_messages.length?e("div",{staticClass:"has-read"},[e("h2",[t._v(t._s(t.has_read_messages.length+"条已读信息"))]),t._v(" "),e("ul",{staticClass:"mess-list"},t._l(t.has_read_messages,function(a,n){return e("li",{key:a.id,staticClass:"mess-item"},[e("div",{staticClass:"top"},[e("div",{staticClass:"avata"},[e("img",{attrs:{src:a.author.avatar_url}})]),t._v(" "),e("div",{staticClass:"info"},[e("span",{staticClass:"user-name"},[t._v(t._s(a.author.loginname))]),e("span",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(a.create_at)))]),t._v(" "),e("div",{staticClass:"text"},[t._v("回复了您的话题"),e("span",{staticClass:"topic"},[t._v(t._s(a.topic.title))])])])]),t._v(" "),e("div",{staticClass:"content",domProps:{innerHTML:t._s(a.reply.content)}})])}),0)]):t._e(),t._v(" "),t.hasnot_read_messages.length?e("div",{staticClass:"hasnot-read"},[e("h2",[t._v(t._s(t.hasnot_read_messages.length+"条未读信息"))]),t._v(" "),e("ul",{staticClass:"mess-list"},t._l(t.hasnot_read_messages,function(a,n){return e("li",{key:a.id,staticClass:"mess-item"},[e("div",{staticClass:"top"},[e("div",{staticClass:"avata"},[e("img",{attrs:{src:a.author.avatar_url}})]),t._v(" "),e("div",{staticClass:"info"},[e("span",{staticClass:"user-name"},[t._v(t._s(a.author.loginname))]),e("span",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(a.create_at)))]),t._v(" "),e("div",{staticClass:"text"},[t._v("回复了您的话题"),e("span",{staticClass:"topic"},[t._v(t._s(a.topic.title))])])])]),t._v(" "),e("div",{staticClass:"content",domProps:{innerHTML:t._s(a.reply.content)}})])}),0)]):t._e(),t._v(" "),t.none?e("div",{staticClass:"none"},[t._v("暂无消息!")]):t._e(),t._v(" "),t.loading?e("div",{staticClass:"loading-wrap"},[e("loading")],1):t._e()],1)},s=[],i={render:n,staticRenderFns:s};a.a=i},"/z0k":function(t,a,e){"use strict";var n=e("Cz6C"),s=(e.n(n),e("dU8H")),i=e.n(s),o=e("Lrbi"),r=(e.n(o),e("aMxQ")),c=e.n(r);a.a={data:function(){return{selected:"all"}},methods:{changRoute:function(){this.$router.push({path:"/index/"+this.selected})}},components:{"m-navbar":c.a,"m-tabitem":i.a},created:function(){this.selected=this.$route.params.tab}}},"0SoE":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"author"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.img_src}})]),t._v(" "),e("div",{staticClass:"name"},[t._v(t._s(t.loginname))]),t._v(" "),e("div",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(t.create_at)))]),t._v(" "),e("div",{staticClass:"index"},[t._v("#"+t._s(t.index)+"#")])])},s=[],i={render:n,staticRenderFns:s};a.a=i},"1NTK":function(t,a){},"1wb2":function(t,a){},"2bcl":function(t,a){},"34+y":function(t,a){},"3rdP":function(t,a){},"3sQK":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[t.tabbarShow?e("tabbar"):t._e(),t._v(" "),e("keep-alive",[e("router-view")],1)],1)},s=[],i={render:n,staticRenderFns:s};a.a=i},"4Dhx":function(t,a,e){"use strict";var n=e("wf1y"),s=e("7+uW"),i=e("P/Us");s.default.filter("dateFormat",function(t){var a=new Date(t),e=new Date,n=e-a,s=Math.floor(n/1e3/60/60/24/30/12),i=Math.floor(n/1e3/60/60/24/30),o=Math.floor(n/1e3/60/60/24),r=Math.floor(n/1e3/60/60),c=Math.floor(n/1e3/60),u=Math.floor(n/1e3);return s>0?s+"年前":i>0?i+"个月前":o>0?o+"天前":r>0?r+"小时前":c>0?c+"分钟前":u>0?u+"秒前":void 0}),a.a={data:function(){return{contentList:[],currentPage:1,tab:"",loading:!1}},methods:{_getTopics:function(){var t=this;this.loading||(this.loading=!0,e.i(n.g)({page:this.currentPage,tab:this.tab,limit:20,mdrender:!0}).then(function(a){var e=a.data;200===a.status?!0===e.success&&(t.contentList=t.contentList.concat(e.data),t.currentPage++,t.loading=!1):console.error("请求失败")}))},changeTopics:function(t){this.currentPage=1,this.contentList=[],this.tab=t,this._getTopics()},tabFormat:function(t){switch(t){case"share":return"分享";case"ask":return"问答";case"job":return"招聘"}}},components:{loading:i.a},beforeRouteUpdate:function(t,a,e){this.changeTopics(t.params.tab),e()},created:function(){this.tab=this.$route.params.tab,this._getTopics()}}},"5reh":function(t,a,e){"use strict";e.d(a,"a",function(){return n}),e.d(a,"b",function(){return s}),e.d(a,"c",function(){return i}),e.d(a,"d",function(){return o}),e.d(a,"e",function(){return r});var n="updateTopicId",s="login",i="logout",o="recordPath",r="addUser"},"83t+":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"about"},[e("m-header",{staticClass:"header",attrs:{title:"关于",fixed:""}},[e("div",{staticClass:"back",attrs:{slot:"left"},on:{click:t.back},slot:"left"},[e("i",{staticClass:"icon-xitongfanhui"})])]),t._v(" "),e("div",{ref:"wrap",staticClass:"wrap"},[e("p",[t._v("_ooOoo_")]),t._v(" "),e("p",[t._v("o8888888o")]),t._v(" "),e("p",[t._v('88" . "88')]),t._v(" "),e("p",[t._v("(| -_- |)")]),t._v(" "),e("p",[t._v("O\\  =  /O")]),t._v(" "),e("p",[t._v("____/`---'\\____")]),t._v(" "),e("p",[t._v(".'  \\\\|     |//  `.")]),t._v(" "),e("p",[t._v("/  \\\\|||  :  |||//  \\")]),t._v(" "),e("p",[t._v("/  _||||| -:- |||||-  \\")]),t._v(" "),e("p",[t._v("|   | \\\\\\  -  /// |   |")]),t._v(" "),e("p",[t._v("| \\_|  ''\\---/''  |   |")]),t._v(" "),e("p",[t._v("\\  .-\\__  `-`  ___/-. /")]),t._v(" "),e("p",[t._v("___`. .'  /--.--\\  `. . __")]),t._v(" "),e("p",[t._v('."" \'<  `.___\\_<|>_/___.\'  >\'"".')]),t._v(" "),e("p",[t._v("| | :  `- \\`.;`\\ _ /`;.`/ - ` : | |")]),t._v(" "),e("p",[t._v("\\  \\ `-.   \\_ __\\ /__ _/   .-` /  /")]),t._v(" "),e("p",[t._v("======`-.____`-.___\\_____/___.-`____.-'======")]),t._v(" "),e("p",[t._v("`=---='")]),t._v(" "),e("p",[t._v("^^^^^^^^^^^^^^^^^^^^^^")]),t._v(" "),e("p",{staticClass:"fo"},[t._v("佛祖保佑 永无BUG！")])])],1)},s=[],i={render:n,staticRenderFns:s};a.a=i},"8G83":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("m-tabbar",{staticClass:"tabbar",attrs:{fixed:!0},model:{value:t.selected,callback:function(a){t.selected=a},expression:"selected"}},[e("m-tabitem",{attrs:{id:t.index()},nativeOn:{click:function(a){return t.changeRouter.apply(null,arguments)}}},[e("i",{staticClass:"icon-shouye",attrs:{slot:"icon"},slot:"icon"}),t._v("\n        首页\n    ")]),t._v(" "),e("m-tabitem",{attrs:{id:"/issue"},nativeOn:{click:function(a){return t.changeRouter.apply(null,arguments)}}},[e("i",{staticClass:"icon-dianping",attrs:{slot:"icon"},slot:"icon"}),t._v("\n        发表\n    ")]),t._v(" "),e("m-tabitem",{attrs:{id:"/message"},nativeOn:{click:function(a){return t.changeRouter.apply(null,arguments)}}},[e("i",{staticClass:"icon-duanxin",attrs:{slot:"icon"},slot:"icon"}),t._v("\n        消息\n    ")]),t._v(" "),e("m-tabitem",{attrs:{id:"/home"},nativeOn:{click:function(a){return t.changeRouter.apply(null,arguments)}}},[e("i",{staticClass:"icon-geren",attrs:{slot:"icon"},slot:"icon"}),t._v("\n        我的\n    ")])],1)},s=[],i={render:n,staticRenderFns:s};a.a=i},"97Sy":function(t,a){},Cz6C:function(t,a){},D2u2:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tab-list"},[e("tab"),t._v(" "),e("router-view")],1)},s=[],i={render:n,staticRenderFns:s};a.a=i},DJP2:function(t,a,e){"use strict";var n=e("XDqQ"),s=(e.n(n),e("Axha")),i=e.n(s),o=e("34+y"),r=(e.n(o),e("X+yh")),c=e.n(r),u=e("Dd8w"),l=e.n(u),d=e("wf1y"),v=e("sA+T"),_=e("P/Us"),p=e("NYxO");a.a={data:function(){return{topicData:{},loading:!1,content:""}},computed:l()({},e.i(p.a)(["topicId","token","user"])),methods:l()({_getTopicDetail:function(){var t=this,a=this.$route.params.id,n={mdrender:!0,accesstoken:this.token};this.loading=!0,this.updateTopicId(a),e.i(d.b)(a,n).then(function(a){t.topicData=a.data.data,t.loading=!1})},_replyUps:function(t){var a=this.token;""===a?this.$router.replace({path:"/login",query:{redirect:"/topic/"+this.topicData.id}}):e.i(d.c)(t.id,a).then(function(a){var e=a.data;e.success&&(t.is_uped=!t.is_uped,"up"===e.action?t.ups.push("user"):"down"===e.action&&t.ups.pop())}).catch(function(t){t.response&&c()(t.response.data.error_msg)})},_submitReplies:function(){var t=this,a=this.$route.params.id,n={accesstoken:this.token,content:this.content,reply_id:this.reply_id||""};e.i(d.d)(a,n).then(function(a){if(a.data.success){var e={avatar_url:t.user.avatar_url,loginname:t.user.loginname},n=(new Date).toUTCString();t.topicData.replies.push({author:e,content:t.content,create_at:n,id:a.data.reply_id,reply_id:null,ups:[]}),c()("评论成功"),t.content=""}})},back:function(){this.$router.back()}},e.i(p.c)(["updateTopicId"])),components:{"m-header":i.a,author:v.a,loading:_.a},created:function(){this._getTopicDetail()},watch:{token:function(){this.$route.params.id&&this._getTopicDetail()}},beforeRouteEnter:function(t,a,e){e(function(a){var e=t.params.id;a.topicId!==e&&(a.topicData={},a._getTopicDetail())})}}},FyLu:function(t,a,e){"use strict";a.a={props:{img_src:String,index:[String,Number],loginname:String,create_at:String}}},GgcU:function(t,a){},I4t6:function(t,a,e){"use strict";var n=e("XDqQ"),s=(e.n(n),e("Axha")),i=e.n(s),o=e("y+mr"),r=(e.n(o),e("3JdW")),c=e.n(r),u=e("34+y"),l=(e.n(u),e("X+yh")),d=e.n(l),v=e("mvHQ"),_=e.n(v),p=e("Dd8w"),f=e.n(p),h=e("wf1y"),m=e("NYxO");a.a={data:function(){return{token:""}},methods:f()({back:function(){this.$router.back()},loginUser:function(){var t=this,a=this.token;e.i(h.a)(a).then(function(e){if(200===e.status){var n=e.data;if(!0===n.success){t.login(a);var s={avatar_url:n.avatar_url,loginname:n.loginname,id:n.id};t.addUser(s),window.localStorage.setItem("_token",a),window.localStorage.setItem("_user",_()(s)),t.token="",t.$router.push(t.$route.query.redirect||"/home"),d()({message:"登录成功!",duration:2e3})}}}).catch(function(a){a.response?d()({message:a.response.data.error_msg,duration:2e3}):(alert(a),d()({message:"错误",duration:2e3})),t.token=""})}},e.i(m.c)(["login","addUser"])),components:{"m-button":c.a,"m-header":i.a}}},ICJi:function(t,a){},IcS0:function(t,a,e){"use strict";a.a={}},IcnI:function(t,a,e){"use strict";var n=e("7+uW"),s=e("NYxO"),i=e("lwq5"),o=e("ukYY"),r=e("UjVw"),c=e("sax8"),u=e.n(c);n.default.use(s.b);var l=new s.b.Store({state:i.a,mutations:o.a,getters:r.a,plugins:[u()()]});a.a=l},K31e:function(t,a,e){"use strict";function n(t){e("ICJi")}var s=e("I4t6"),i=e("OKZi"),o=e("VU/8"),r=n,c=o(s.a,i.a,!1,r,"data-v-c3506094",null);a.a=c.exports},KvOS:function(t,a,e){"use strict";var n=e("XDqQ"),s=(e.n(n),e("Axha")),i=e.n(s),o=e("Dd8w"),r=e.n(o),c=e("34+y"),u=(e.n(c),e("X+yh")),l=e.n(u),d=e("wf1y"),v=e("NYxO");a.a={data:function(){return{title:"",content:"",tab:""}},methods:{_issueTopics:function(){var t=this;if(""===this.title)return void l()("请输入标题");if(""===this.content)return void l()("请输入内容");if(""===this.tab)return void l()("请选择");if("dev"!==this.tab)return void l()("只能发表测试板块");var a={accesstoken:this.token,title:this.title,content:this.content,tab:this.tab};e.i(d.f)(a).then(function(a){a.data.success&&(t.title="",t.content="",t.tab="",l()("发表成功!"))}).catch(function(t){t.response&&l()(t.response.data.error_msg)})}},computed:r()({},e.i(v.a)(["token"])),components:{"m-header":i.a},deactivated:function(){this.$destroy()}}},LqM4:function(t,a,e){"use strict";function n(t){e("GgcU")}var s=e("yUvN"),i=e("o/Yb"),o=e("VU/8"),r=n,c=o(s.a,i.a,!1,r,"data-v-74f4d8eb",null);a.a=c.exports},Lrbi:function(t,a){},M93x:function(t,a,e){"use strict";function n(t){e("+Dy5")}var s=e("xJD8"),i=e("3sQK"),o=e("VU/8"),r=n,c=o(s.a,i.a,!1,r,null,null);a.a=c.exports},MTyd:function(t,a,e){"use strict";function n(t){e("1wb2")}var s=e("uaVK"),i=e("8G83"),o=e("VU/8"),r=n,c=o(s.a,i.a,!1,r,"data-v-9a576e68",null);a.a=c.exports},Mj5O:function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("97Sy"),s=(e.n(n),e("bCKv")),i=e.n(s),o=e("7+uW"),r=e("M93x"),c=e("YaEn"),u=e("IcnI"),l=e("AXdl");o.default.use(i.a),o.default.use(l.a),o.default.config.productionTip=!1,new o.default({el:"#app",router:c.a,store:u.a,template:"<App/>",components:{App:r.a}})},OKZi:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"login"},[e("m-header",{staticClass:"header",attrs:{title:"登录",fixed:""}},[e("div",{staticClass:"back",attrs:{slot:"left"},on:{click:t.back},slot:"left"},[e("i",{staticClass:"icon-xitongfanhui"})])]),t._v(" "),e("div",{staticClass:"form-wrap"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.token,expression:"token"}],staticClass:"token",attrs:{type:"text",placeholder:"请输入Access Token"},domProps:{value:t.token},on:{input:function(a){a.target.composing||(t.token=a.target.value)}}}),t._v(" "),e("a",{staticClass:"btn",on:{click:t.loginUser}},[t._v("登录")])])],1)},s=[],i={render:n,staticRenderFns:s};a.a=i},OwaC:function(t,a,e){"use strict";var n=e("XDqQ"),s=(e.n(n),e("Axha")),i=e.n(s),o=e("Dd8w"),r=e.n(o),c=e("wf1y"),u=e("NYxO"),l=e("P/Us");a.a={data:function(){return{has_read_messages:[],hasnot_read_messages:[],loading:!0}},computed:r()({},e.i(u.a)(["token"]),{none:function(){return!this.has_read_messages.length&&!this.hasnot_read_messages.length&&!this.loading}}),methods:{_getMessage:function(){var t=this,a=this.token;e.i(c.e)(a).then(function(a){var e=a.data;e.success&&(t.has_read_messages=e.data.has_read_messages,t.hasnot_read_messages=e.data.hasnot_read_messages,t.loading=!1)}).catch(function(a){t.loading=!1,console.error(a)})}},components:{"m-header":i.a,loading:l.a},mounted:function(){this._getMessage()}}},"P/Us":function(t,a,e){"use strict";function n(t){e("3rdP")}var s=e("IcS0"),i=e("guSt"),o=e("VU/8"),r=n,c=o(s.a,i.a,!1,r,"data-v-25d79aa2",null);a.a=c.exports},Pt1D:function(t,a,e){"use strict";function n(t){e("1NTK")}var s=e("WK65"),i=e("D2u2"),o=e("VU/8"),r=n,c=o(s.a,i.a,!1,r,"data-v-1961a5a7",null);a.a=c.exports},Q96i:function(t,a,e){"use strict";function n(t){e("Mj5O")}var s=e("OwaC"),i=e("/2Wa"),o=e("VU/8"),r=n,c=o(s.a,i.a,!1,r,"data-v-6ba43a09",null);a.a=c.exports},SKre:function(t,a){},SPG4:function(t,a){},UJfa:function(t,a,e){"use strict";var n=e("XDqQ"),s=(e.n(n),e("Axha")),i=e.n(s);a.a={methods:{back:function(){this.$router.go(-1)}},components:{"m-header":i.a},mounted:function(){for(var t=this.$refs.wrap.children,a=0,e=t.length;a<e;a++){for(var n=t[a].innerHTML;/\s/.test(n);)n=n.replace(" ","&nbsp;&nbsp;");t[a].innerHTML=n}},deactivated:function(){this.$destroy()}}},UjVw:function(t,a,e){"use strict";var n={topicId:function(t){return t.topicId},token:function(t){return t.token},indexPath:function(t){return t.indexPath},user:function(t){return t.user}};a.a=n},WK65:function(t,a,e){"use strict";var n=e("Dd8w"),s=e.n(n),i=e("ycLw"),o=e("NYxO");a.a={components:{tab:i.a},methods:s()({},e.i(o.c)(["recordPath"])),created:function(){this.recordPath(this.$route.fullPath)},beforeRouteLeave:function(t,a,e){this.recordPath(a.fullPath),e()},beforeRouteUpdate:function(t,a,e){this.recordPath(t.fullPath),e()}}},Wp4j:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"topic"},[e("m-header",{staticClass:"header",attrs:{title:"主题",fixed:""}},[e("div",{staticClass:"back",attrs:{slot:"left"},on:{click:t.back},slot:"left"},[e("i",{staticClass:"icon-xitongfanhui"})])]),t._v(" "),t.topicData.author?e("author",{attrs:{img_src:t.topicData.author.avatar_url,index:"楼主",loginname:t.topicData.author.loginname,create_at:t.topicData.create_at}}):t._e(),t._v(" "),e("div",{staticClass:"first"},[e("div",{staticClass:"title"},[e("h1",[t._v(t._s(t.topicData.title))])]),t._v(" "),e("div",{staticClass:"info"},[e("span",{staticClass:"visit"},[e("i",{staticClass:"icon-kanguo"}),t._v(t._s(t.topicData.visit_count))]),t._v(" "),e("span",{staticClass:"reply-count"},[e("i",{staticClass:"icon-pinglun"}),t._v(t._s(t.topicData.reply_count))])])]),t._v(" "),e("div",{staticClass:"content",domProps:{innerHTML:t._s(t.topicData.content)}}),t._v(" "),e("div",{staticClass:"reply-wrap"},[e("div",{staticClass:"replies-count"},[t._v("共("),t.topicData.replies?e("span",{staticClass:"count"},[t._v(" "+t._s(t.topicData.replies.length)+" ")]):t._e(),t._v(")条回复")]),t._v(" "),e("ul",{staticClass:"reply-list"},t._l(t.topicData.replies,function(a,n){return e("li",{key:a.id,staticClass:"reply-item"},[t.topicData.author?e("author",{attrs:{img_src:a.author.avatar_url,index:n+1,loginname:a.author.loginname,create_at:a.create_at}}):t._e(),t._v(" "),e("div",{staticClass:"text",domProps:{innerHTML:t._s(a.content)}}),t._v(" "),e("div",{staticClass:"click"},[e("span",{staticClass:"zan",class:{"is-uped":a.is_uped},on:{click:function(e){return t._replyUps(a)}}},[e("i",{staticClass:"icon-zan"}),t._v(t._s(a.ups.length?a.ups.length:""))]),t._v(" "),t._m(0,!0)])],1)}),0),t._v(" "),t.token?t._e():e("div",{staticClass:"reply-no-login"},[e("p",[t._v("您还未登录，请先"),e("router-link",{staticClass:"login-btn",attrs:{to:{path:"/login",query:{redirect:t.$route.fullPath}},replace:""}},[t._v("登录！")])],1)]),t._v(" "),t.token?e("div",{staticClass:"reply-islogin"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"reply-content",attrs:{placeholder:"发表评论..."},domProps:{value:t.content},on:{input:function(a){a.target.composing||(t.content=a.target.value)}}}),t._v(" "),e("button",{staticClass:"submit",on:{click:t._submitReplies}},[t._v("回复")])]):t._e()]),t._v(" "),t.loading?e("div",{staticClass:"loading-wrap"},[e("loading")],1):t._e()],1)},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",[e("i",{staticClass:"icon-fenxiang"})])}],i={render:n,staticRenderFns:s};a.a=i},XDqQ:function(t,a){},YaEn:function(t,a,e){"use strict";var n=e("34+y"),s=(e.n(n),e("X+yh")),i=e.n(s),o=e("7+uW"),r=e("/ocq"),c=e("IcnI"),u=e("Pt1D"),l=e("wJaO"),d=e("ZJcV"),v=e("Q96i"),_=e("LqM4"),p=e("+Lla"),f=e("zRCK"),h=e("K31e");if(o.default.use(r.a),window.localStorage.getItem("_token")){var m=window.localStorage.getItem("_token"),g=JSON.parse(window.localStorage.getItem("_user"));c.a.commit("login",m),c.a.commit("addUser",g)}var C=[{path:"/",redirect:"/index/all"},{path:"/index",component:u.a,children:[{path:"",redirect:"all"},{path:":tab",component:l.a}]},{path:"/issue",component:d.a,meta:{requireAuth:!0}},{path:"/message",component:v.a,meta:{requireAuth:!0}},{path:"/home",component:_.a},{path:"/topic/:id",component:p.a},{path:"/about",component:f.a},{path:"/login",component:h.a}],b=new r.a({routes:C});b.beforeEach(function(t,a,e){t.meta.requireAuth&&(c.a.state.token?e():(i()({message:"请先登录",duration:2e3}),e({path:"/login",query:{redirect:t.fullPath}}))),e()}),a.a=b},ZJcV:function(t,a,e){"use strict";function n(t){e("vkat")}var s=e("KvOS"),i=e("g8n8"),o=e("VU/8"),r=n,c=o(s.a,i.a,!1,r,"data-v-946b3ad0",null);a.a=c.exports},bOKm:function(t,a){},g77v:function(t,a){},g8n8:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"issue"},[e("m-header",{staticClass:"header",attrs:{title:"发表",fixed:""}},[e("div",{staticClass:"issue-btn",attrs:{slot:"right"},on:{click:t._issueTopics},slot:"right"},[e("i",{staticClass:"icon-dianping"})])]),t._v(" "),e("div",{staticClass:"issue-wrap"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"issue-title",attrs:{type:"text",placeHolder:"标题..."},domProps:{value:t.title},on:{input:function(a){a.target.composing||(t.title=a.target.value)}}}),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.tab,expression:"tab"}],staticClass:"tabs",attrs:{name:"tabs"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.tab=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}},[t._v("请选择")]),t._v(" "),e("option",{attrs:{value:"share"}},[t._v("分享")]),t._v(" "),e("option",{attrs:{value:"ask"}},[t._v("问答")]),t._v(" "),e("option",{attrs:{value:"job"}},[t._v("招聘")]),t._v(" "),e("option",{attrs:{value:"dev"}},[t._v("测试")])]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"content",attrs:{placeholder:"内容..."},domProps:{value:t.content},on:{input:function(a){a.target.composing||(t.content=a.target.value)}}})])],1)},s=[],i={render:n,staticRenderFns:s};a.a=i},guSt:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"loading"},[e("div")])}],i={render:n,staticRenderFns:s};a.a=i},joTY:function(t,a){},kmGi:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("m-navbar",{staticClass:"tab",attrs:{fixed:!0},model:{value:t.selected,callback:function(a){t.selected=a},expression:"selected"}},[e("m-tabitem",{attrs:{id:"all"},nativeOn:{click:function(a){return t.changRoute.apply(null,arguments)}}},[t._v("全部")]),t._v(" "),e("m-tabitem",{attrs:{id:"good"},nativeOn:{click:function(a){return t.changRoute.apply(null,arguments)}}},[t._v("精华")]),t._v(" "),e("m-tabitem",{attrs:{id:"share"},nativeOn:{click:function(a){return t.changRoute.apply(null,arguments)}}},[t._v("分享")]),t._v(" "),e("m-tabitem",{attrs:{id:"ask"},nativeOn:{click:function(a){return t.changRoute.apply(null,arguments)}}},[t._v("问答")]),t._v(" "),e("m-tabitem",{attrs:{id:"job"},nativeOn:{click:function(a){return t.changRoute.apply(null,arguments)}}},[t._v("招聘")])],1)},s=[],i={render:n,staticRenderFns:s};a.a=i},lwq5:function(t,a,e){"use strict";var n={topicId:"",token:"",indexPath:"",user:{}};a.a=n},"o/Yb":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[e("m-header",{staticClass:"header",attrs:{title:"个人中心",fixed:""}}),t._v(" "),e("div",{staticClass:"user-bg"}),t._v(" "),e("div",{staticClass:"user",on:{click:t.login}},[e("div",{staticClass:"user-avatar"},[e("img",{attrs:{src:t.user.avatar_url}})]),t._v(" "),t.token?t._e():e("div",{staticClass:"text"},[t._v("你还没有登陆，请先登录！")]),t._v(" "),t.token?e("div",{staticClass:"login-in"},[t._v(t._s(t.user.loginname))]):t._e()]),t._v(" "),e("div",{staticClass:"nav"},[e("ul",[e("router-link",{staticClass:"nav-item",attrs:{to:"/issue",tag:"li"}},[e("i",{staticClass:"icon-dianping"}),t._v(" "),e("span",{staticClass:"text"},[t._v("发表主题")]),t._v(" "),e("i",{staticClass:"icon-xiayibu"})]),t._v(" "),e("router-link",{staticClass:"nav-item",attrs:{to:"/message",tag:"li"}},[e("i",{staticClass:"icon-duanxin"}),t._v(" "),e("span",{staticClass:"text"},[t._v("我的消息")]),t._v(" "),e("i",{staticClass:"icon-xiayibu"})]),t._v(" "),e("router-link",{staticClass:"nav-item",attrs:{to:"/about",tag:"li"}},[e("i",{staticClass:"icon-xinxi"}),t._v(" "),e("span",{staticClass:"text"},[t._v("关于")]),t._v(" "),e("i",{staticClass:"icon-xiayibu"})])],1)]),t._v(" "),t.token?e("div",{staticClass:"logout",on:{click:t.logout}},[t._v("退出登录")]):t._e()],1)},s=[],i={render:n,staticRenderFns:s};a.a=i},oF72:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tab-list-wrap"},[e("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t._getTopics,expression:"_getTopics"}],staticClass:"tab-list",attrs:{"infinite-scroll-distance":100,"infinite-scroll-immediate-check":!0}},t._l(t.contentList,function(a,n){return e("router-link",{key:n,staticClass:"list-item",attrs:{tag:"li",to:"/topic/"+a.id}},[e("div",{staticClass:"top"},[e("div",{staticClass:"avatar"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.author.avatar_url,expression:"item.author.avatar_url"}]})]),t._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"name"},[t._v(t._s(a.author.loginname))]),t._v(" "),e("time",{staticClass:"date"},[t._v(t._s(t._f("dateFormat")(a.create_at)))]),t._v(" "),a.tab?e("span",{staticClass:"tag"},[t._v("#"+t._s(t.tabFormat(a.tab))+"#")]):t._e()])]),t._v(" "),e("div",{staticClass:"content"},[t._v(t._s(a.title))]),t._v(" "),e("div",{staticClass:"bottom"},[e("div",{staticClass:"visit"},[e("i",{staticClass:"icon-kanguo"}),t._v("\n                    "+t._s(a.visit_count)+"\n                ")]),t._v(" "),e("div",{staticClass:"reply"},[e("i",{staticClass:"icon-pinglun"}),t._v("\n                    "+t._s(a.reply_count)+"\n                ")]),t._v(" "),a.last_reply_at?e("div",{staticClass:"last_reply"},[t._v("\n                    "+t._s(t._f("dateFormat")(a.last_reply_at))+"\n                ")]):t._e()])])}),1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading-wrap"},[e("loading")],1)])},s=[],i={render:n,staticRenderFns:s};a.a=i},"sA+T":function(t,a,e){"use strict";function n(t){e("SKre")}var s=e("FyLu"),i=e("0SoE"),o=e("VU/8"),r=n,c=o(s.a,i.a,!1,r,"data-v-b1bf120e",null);a.a=c.exports},uaVK:function(t,a,e){"use strict";var n=e("Cz6C"),s=(e.n(n),e("dU8H")),i=e.n(s),o=e("+hXE"),r=(e.n(o),e("fUV+")),c=e.n(r),u=e("Dd8w"),l=e.n(u),d=e("NYxO");a.a={data:function(){return{selected:""}},methods:{changeRouter:function(){this.$router.push({path:this.selected})},index:function(){return this.indexPath||"/index/all"}},computed:l()({},e.i(d.a)(["indexPath"])),components:{"m-tabbar":c.a,"m-tabitem":i.a},created:function(){this.selected=this.$route.fullPath},watch:{$route:function(){this.selected=this.$route.fullPath}}}},ukYY:function(t,a,e){"use strict";var n,s=e("bOdI"),i=e.n(s),o=e("5reh"),r=(n={},i()(n,o.a,function(t,a){t.topicId=a}),i()(n,o.b,function(t,a){t.token=a}),i()(n,o.c,function(t){""!==t.token&&(t.token="",t.user={})}),i()(n,o.d,function(t,a){t.indexPath=a}),i()(n,o.e,function(t,a){t.user=a}),n);a.a=r},vkat:function(t,a){},wJaO:function(t,a,e){"use strict";function n(t){e("2bcl")}var s=e("4Dhx"),i=e("oF72"),o=e("VU/8"),r=n,c=o(s.a,i.a,!1,r,"data-v-39235aac",null);a.a=c.exports},wf1y:function(t,a,e){"use strict";function n(t){return d.a.get("/topics",{params:t})}function s(t,a){return d.a.get("/topic/"+t,{params:a})}function i(t){return d.a.post("/accesstoken",{accesstoken:t})}function o(t,a){return d.a.post("/reply/"+t+"/ups",{accesstoken:a})}function r(t){return d.a.get("/messages",{params:{accesstoken:t}})}function c(t){return d.a.post("/topics",{accesstoken:t.accesstoken,title:t.title,tab:t.tab,content:t.content})}function u(t,a){return d.a.post("/topic/"+t+"/replies",a)}e.d(a,"g",function(){return n}),e.d(a,"b",function(){return s}),e.d(a,"a",function(){return i}),e.d(a,"c",function(){return o}),e.d(a,"e",function(){return r}),e.d(a,"f",function(){return c}),e.d(a,"d",function(){return u});var l=e("mtWM"),d=e.n(l);d.a.defaults.baseURL="https://cnodejs.org/api/v1"},xJD8:function(t,a,e){"use strict";var n=e("MTyd");a.a={components:{tabbar:n.a},computed:{tabbarShow:function(){return-1===this.$route.path.indexOf("/topic")&&-1===this.$route.path.indexOf("/login")&&-1===this.$route.path.indexOf("/about")}}}},"y+mr":function(t,a){},yUvN:function(t,a,e){"use strict";var n=e("XDqQ"),s=(e.n(n),e("Axha")),i=e.n(s),o=e("Dd8w"),r=e.n(o),c=e("NYxO");a.a={methods:r()({login:function(){this.$router.push("/login")}},e.i(c.c)(["logout"])),computed:r()({},e.i(c.a)(["user","token"])),components:{"m-header":i.a}}},ycLw:function(t,a,e){"use strict";function n(t){e("g77v")}var s=e("/z0k"),i=e("kmGi"),o=e("VU/8"),r=n,c=o(s.a,i.a,!1,r,"data-v-7a6fa74c",null);a.a=c.exports},zRCK:function(t,a,e){"use strict";function n(t){e("bOKm")}var s=e("UJfa"),i=e("83t+"),o=e("VU/8"),r=n,c=o(s.a,i.a,!1,r,"data-v-dc10c5d0",null);a.a=c.exports}},["NHnr"]);
//# sourceMappingURL=app.06d27f1ca6bccd924a72.js.map